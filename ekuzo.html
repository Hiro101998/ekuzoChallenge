<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>エクゾチャレンジ</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
</head>
<body>
    <div class="container text-center" id="app" >
        <div class="title">
            <h1 class="mb-3 mt-3">初手エクゾチャレンジ</h1>
         </div>
            <button class="btn btn-primary btn-lg m-3" @click="gameStart">決闘開始</button> 
            <button class="btn btn-secondary btn-lg m-3" @click="reset">デッキに戻してシャッフル</button> 
            総試行回数{{count}}<br>
            <div v-if='startFlg'>
                    <img :src="image"  v-for='image in images ':key="image.id" width="200px" height="300px">
                    <div>引いたカード</div>
                    <div v-for='hand in myHand' :key='hand.id'> {{hand}}</div> 
            </div>
     </div>
    

<script>  
    new Vue({
        el:"#app",
        data:{
                count:0,
                startFlg:"",
                parts:[
                    'face',
                    'rHand',
                    'lHand',
                    'rLeg',
                    'lLeg'
                        ],
                cards:[
                1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,
                21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,
                        ],
                allCards:[
                'face','rHand','lHand','rLeg','lLeg',
                1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,
                21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,
                         ],
                myHand:[],
                images:[],    
            },
            methods:{
             gameStart:function(){
                 this.count = this.count+1;
                 this.startFlg = true;
                //山札からカードを引く処理
                for(let i=0;i<5;i=i+1){
                 //40枚からランダムに一枚引く
                let random = this.allCards[Math.floor(Math.random() * this.allCards.length)];  
                // 引いたカードが配列の何番目の値か調べる
                let index = this.allCards.indexOf(random);
                //同じカードを引かないようにするため、引いたカードを配列から削除
                this.allCards.splice(index,1);
                //引いたカードを手札に加える
                this.myHand.push(random);

                    if(random =='face'){
                    let cardImg = "https://4.bp.blogspot.com/-SC6_6x7MQnc/Wn1ZUkdcPxI/AAAAAAABKK8/qqHVlc8E7lEGsEwJ_J8H6Gp9RvfhTX67wCLcBGAs/s800/animal_smile_neko.png";
                    this.images.push(cardImg);
                    }else if(random =='rHand' || random =='lHand' || random =='rLeg' || random =='lLeg'){
                    let cardImg =  "https://1.bp.blogspot.com/-0cCo9zgtDhM/YAOpdOSu9eI/AAAAAAABdO4/n_2-Uhk-53g1pWeVQh_K6yNRkBvwIeBnQCNcBGAsYHQ/s484/cat_hand_gray_back.png";
                    this.images.push(cardImg);
                    }else{
                        let cardImg = "https://1.bp.blogspot.com/-ftpCsDtLFbA/VufYsLGobrI/AAAAAAAA45k/iSLGyuD6aKkbLAUGprwU9B7pMiM9Tz3Lg/s1000/trading_card05_orange.png";
                        this.images.push(cardImg);
                     }
                }   
			let passValue = this.myHand.filter(val => val == 'face'||val == 'rHand'||val == 'lHand'||val == 'rLeg'||val == 'lLeg');
			let number = passValue.length;
			if(number == 5 ){
                            alert('揃いました！！')
                        }
               },
                reset:function(){
                this.startFlg=false;
                this.count = 0
                this.myHand.length = 0
                this.images.length = 0
                // console.log(this.myHand)
                this.allCards=[
                'face','rHand','lHand','rLeg','lLeg',
                1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,
                21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,]
                // console.log(this.allCards)
                     },
       
        }
    })
   </script>
</body>
</html>